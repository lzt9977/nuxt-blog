{"version":3,"sources":["webpack:///webpack/bootstrap 3f733e4fc2a79f754ef7","webpack:///./node_modules/_babel-runtime@6.26.0@babel-runtime/regenerator/index.js","webpack:///./server/config/index.js","webpack:///./server/utils/response.js","webpack:///external \"mongoose\"","webpack:///./server/models/users.js","webpack:///./server/index.js","webpack:///external \"koa\"","webpack:///external \"nuxt\"","webpack:///./server/config/errorCode.js","webpack:///./server/middlewares.js","webpack:///external \"regenerator-runtime\"","webpack:///external \"koa-static\"","webpack:///external \"koa-bodyparser\"","webpack:///./server/routes.js","webpack:///external \"koa-trie-router\"","webpack:///./server/controllers/articles.js","webpack:///./server/models/articles.js","webpack:///./server/controllers/login.js","webpack:///./server/controllers/logout.js","webpack:///./server/controllers/reg.js","webpack:///external \"koa-session\"","webpack:///external \"koa-mount\"","webpack:///./server/models/index.js","webpack:///external \"chalk\"","webpack:///./nuxt.config.js"],"names":["console","log","dbname","app","name","version","database","driver","host","port","username","password","options","server","static_dir","root","session","secretKey","errorCode","code","data","error","msg","config","model","type","String","index","unique","mongoose","process","env","HOST","PORT","nuxtConfig","require","dev","nuxt","builder","build","catch","e","exit","middlewares","use","ctx","status","Promise","resolve","reject","res","on","render","req","promise","then","listen","next","headersSent","throw","body","message","emit","keys","key","maxAge","httpOnly","serve","bodyParser","mount","routes","router","post","middleware","request","page","articles","Articles","find","skip","pageSize","limit","articlesList","count","articlesSize","list","total","title","articleId","Number","content","tag","category","createTime","Date","author","pv","uid","updateTime","default","now","Users","findOne","userInfo","user","err","where","isUser","length","create","dblink","connect","db","connection","chalk","red","once","green","module","exports","head","meta","charset","hid","link","rel","href","HOST_URL","css","src","lang","modules","plugins","vendor","babel","libraryName","styleLibraryName"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 3f733e4fc2a79f754ef7","module.exports = require(\"regenerator-runtime\");\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_babel-runtime@6.26.0@babel-runtime/regenerator/index.js\n// module id = 0\n// module chunks = 0","import errorCode from './errorCode'\nconsole.log(process.env.NODE_ENV)\nconst dbname = process.env.NODE_ENV === 'development' ? 'user' : 'koa'\n\nexport default {\n  app: {\n    name: 'something',\n    version: '1.0.0'\n  },\n  database: {\n    driver: 'mongo',\n    host: '127.0.0.1',\n    port: 27017,\n    dbname: dbname,\n    username: 'admin',\n    password: '123456',\n    options: {\n    }\n  },\n  server: {\n    port: 3000\n  },\n  static_dir: {\n    root: './static',\n    options: {}\n  },\n  session: {\n    secretKey: 'something'\n  },\n  errorCode\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/config/index.js","import config from '../config'\n\nexport default (code, data = {}) => {\n  console.error(`XXXX错误：${code}`)\n  return {\n    code: code,\n    data,\n    msg: config.errorCode[code]\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/utils/response.js","module.exports = require(\"mongoose\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mongoose\"\n// module id = 3\n// module chunks = 0","import mongoose from 'mongoose'\n\nconst model = {\n  username: {\n    type: String,\n    index: {\n      unique: true\n    }\n  },\n  password: String\n}\n\nexport default mongoose.model('Users', model)\n\n\n// WEBPACK FOOTER //\n// ./server/models/users.js","import Koa from 'koa'\nimport { Nuxt, Builder } from 'nuxt'\nimport config from './config'\nimport middlewares from './middlewares'\n\nimport './models'\n\nconst app = new Koa()\nconst host = process.env.HOST || '127.0.0.1'\nconst port = process.env.PORT || config.server.port\n\n// Import and Set Nuxt.js options\nlet nuxtConfig = require('../nuxt.config.js')\nnuxtConfig.dev = !(app.env === 'production')\n\n// Instantiate nuxt.js\nconst nuxt = new Nuxt(nuxtConfig)\n\n// Build in development\nif (nuxtConfig.dev) {\n  const builder = new Builder(nuxt)\n  builder.build().catch(e => {\n    console.error(e) // eslint-disable-line no-console\n    process.exit(1)\n  })\n}\n\n// Middlewares are imported here.\nmiddlewares(app)\n\n// Hook Nuxt up!\n// https://github.com/nuxt-community/koa-template/blob/master/template/server/index.js\napp.use(ctx => {\n  ctx.status = 200 // koa defaults to 404 when it sees that status is unset\n\n  return new Promise((resolve, reject) => {\n    ctx.res.on('close', resolve)\n    ctx.res.on('finish', resolve)\n    nuxt.render(ctx.req, ctx.res, promise => {\n      // nuxt.render passes a rejected promise into callback on error.\n      promise.then(resolve).catch(reject)\n    })\n  })\n})\n\napp.listen(port, host)\n\n\n\n// WEBPACK FOOTER //\n// ./server/index.js","module.exports = require(\"koa\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa\"\n// module id = 6\n// module chunks = 0","module.exports = require(\"nuxt\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"nuxt\"\n// module id = 7\n// module chunks = 0","export default {\n  0: '请求成功',\n  '-1': '系统错误',\n  100: '用户名或密码填写有误',\n  101: '该用户名已存在',\n  200: '分页参数错误'\n}\n\n\n// WEBPACK FOOTER //\n// ./server/config/errorCode.js","import serve from 'koa-static'\nimport bodyParser from 'koa-bodyparser'\nimport config from './config'\nimport routes from './routes'\nimport session from 'koa-session'\n\nexport default (app) => {\n  app.use(async (ctx, next) => {\n    try {\n      await next()\n\n      // Handle 404 - throw it as an error.\n      if (ctx.status === 404 && ctx.res.headersSent === false) {\n        ctx.throw(404)\n      }\n\n      if (ctx.status === 200 && ctx.res.headersSent === false) {\n        ctx.body = {\n          status: 200,\n          data: ctx.body\n        }\n      }\n    } catch (err) {\n      ctx.status = err.status || 500\n\n      ctx.type = 'json'\n      ctx.body = {\n        status: ctx.status,\n        message: err.message\n      }\n\n      ctx.app.emit('error', err, ctx)\n    }\n  })\n\n  // 定义session\n  app.keys = ['some secret hurr']\n\n  app.use(session({\n    key: '__BLOG__',\n    maxAge: 86400000,\n    httpOnly: true,\n  }, app))\n\n  // Static files are files that clients download as they are from the server.\n  // Create a new directory, public. Koa, by default doesn't allow you to\n  // serve static files.\n  // https://github.com/koajs/static\n  // https://www.tutorialspoint.com/koajs/koajs_static_files.htm\n  app.use(serve(config.static_dir.root))\n\n  // The parsed body will store in ctx.request.body\n  // If nothing was parsed, body will be an empty object {}\n  // https://github.com/koajs/bodyparser\n  // https://github.com/koajs/koa/issues/719\n  app.use(bodyParser())\n\n  // Add routes by group.\n  const mount = require('koa-mount')\n  app.use(mount('/api', routes()))\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/middlewares.js","module.exports = require(\"regenerator-runtime\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"regenerator-runtime\"\n// module id = 10\n// module chunks = 0","module.exports = require(\"koa-static\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa-static\"\n// module id = 11\n// module chunks = 0","module.exports = require(\"koa-bodyparser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa-bodyparser\"\n// module id = 12\n// module chunks = 0","import Router from 'koa-trie-router'\n\nconst router = new Router()\n\nimport articles from './controllers/articles'\nimport login from './controllers/login'\nimport logout from './controllers/logout'\nimport reg from './controllers/reg'\n\nexport default () => {\n\n  router.post('/getArticlesList', articles)\n  router.post('/login', login)\n  router.post('/logout', logout)\n  router.post('/reg', reg)\n\n  return router.middleware()\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/routes.js","module.exports = require(\"koa-trie-router\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa-trie-router\"\n// module id = 14\n// module chunks = 0","import Articles from '../models/articles'\nimport errorCode from '../utils/response'\n\nexport default async (ctx, next) => {\n  try{\n    const { body } = ctx.request\n\n    if(body.page <= 0){\n      ctx.body = errorCode(200)\n      return await next()\n    }\n\n    const articles = Articles.find()\n    const articlesList = await articles.skip((body.page - 1) * body.pageSize).limit(body.pageSize)\n    const articlesSize = await articles.count()\n\n    ctx.body = errorCode(0, {\n      list: articlesList,\n      total: articlesSize,\n      pageSize: body.pageSize\n    })\n\n  }catch(err)\n  {\n    ctx.body = errorCode(-1)\n    throw err\n  }\n\n  await next()\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/controllers/articles.js","import mongoose from 'mongoose'\nconst model = {\n  // 文章标题\n  title: {\n    type: String,\n    index: {\n      unique: true,\n    },\n  },\n  // 文章id\n  articleId: {\n    type: Number,\n    index: {\n      unique: true,\n    },\n  },\n  // 内容\n  content: {\n    type: String,\n  },\n  // 标签\n  tag: {\n    type: String,\n    index: true,\n  },\n  // 分类\n  category: {\n    type: String,\n    index: true,\n  },\n  // 创建时间\n  createTime: {\n    type: Date,\n  },\n  // 作者\n  author: {\n    type: String,\n  },\n  // 文章浏览量\n  pv: {\n    type: Number,\n  },\n  // 发布文章的用户id\n  uid: {\n    type: Number,\n    index: true,\n  },\n  // 更新时间\n  updateTime: {\n    type: Date,\n    default: Date.now()\n  },\n}\n\nexport default mongoose.model('Articles', model)\n\n\n// WEBPACK FOOTER //\n// ./server/models/articles.js","import Users from '../models/users'\nimport errorCode from '../utils/response'\n\nexport default async (ctx, next) => {\n  const { body } = ctx.request\n  try {\n    const userInfo = await Users.findOne({username: body.username})\n    if(body.username === userInfo.username && body.password === userInfo.password){\n      ctx.body = errorCode(0)\n\n      ctx.session.user = {\n        username: userInfo.username\n      }\n    }else{\n      ctx.body = errorCode(100)\n    }\n\n  }catch (err) {\n    ctx.body = errorCode(-1)\n    throw err\n  }\n  await next()\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/controllers/login.js","import errorCode from '../utils/response'\n\nexport default async (ctx, next) => {\n  ctx.session = null\n\n  try {\n    ctx.body = errorCode(0)\n  }catch (err) {\n    ctx.body = errorCode(-1)\n  }\n\n  await next()\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/controllers/logout.js","import Users from '../models/users'\nimport errorCode from '../utils/response'\n\nexport default async (ctx, next) => {\n  try{\n    const isUser = await Users.find().where('username', ctx.request.body.username)\n\n    if(!ctx.request.body.username || !ctx.request.body.password) {\n      ctx.body = errorCode(100)\n\n      return await next()\n    }\n\n    if(isUser.length){\n      ctx.body = errorCode(101)\n    }else{\n      await Users.create(ctx.request.body).then(() => {\n        ctx.body = errorCode(0)\n      })\n    }\n  }catch (err) {\n    ctx.body = errorCode(-1)\n    throw err\n  }\n\n  await next()\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/controllers/reg.js","module.exports = require(\"koa-session\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa-session\"\n// module id = 20\n// module chunks = 0","module.exports = require(\"koa-mount\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa-mount\"\n// module id = 21\n// module chunks = 0","import mongoose from 'mongoose'\nimport chalk from 'chalk'\nconst log = console.log\nimport config from '../config'\n\nconst dblink = `mongodb://${config.database.host}:${config.database.port}/${config.database.dbname}`\n\nconsole.log(dblink)\n\nmongoose.connect(`mongodb://${config.database.host}:${config.database.port}/${config.database.dbname}`)\n\nconst db = mongoose.connection\n\ndb.on('error', () => {\n  log(chalk.red('connection error:'))\n})\n\ndb.once('open', async () => {\n  log(chalk.green('mongodb connected!'))\n})\n\n\n// WEBPACK FOOTER //\n// ./server/models/index.js","module.exports = require(\"chalk\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"chalk\"\n// module id = 23\n// module chunks = 0","// https://nuxtjs.org/api/configuration-build\nmodule.exports = {\n  /*\n  ** Headers of the page\n  */\n  head: {\n    title: 'starter',\n    meta: [\n      { charset: 'utf-8' },\n      { name: 'viewport', content: 'width=device-width, initial-scale=1' },\n      { hid: 'description', name: 'description', content: 'Nuxt.js project' }\n    ],\n    link: [\n      { rel: 'icon', type: 'image/x-icon', href: '/favicon.ico' }\n    ]\n  },\n  env: {\n    HOST_URL: process.env.HOST_URL || 'http://127.0.0.1:3000'\n  },\n  /*\n  ** Global CSS\n  */\n  css: [\n    'element-ui/lib/theme-chalk/index.css',\n    { src: '~/assets/sass/main.scss', lang: 'scss' }\n  ],\n  modules: [\n    '@nuxtjs/axios',\n    '@nuxtjs/proxy',\n  ],\n  plugins: ['~plugins/element-ui'],\n  build: {\n    vendor: [\n      'element-ui',\n      'axios',\n      '~/plugins/fetch.js'\n    ],\n  },\n  babel: {\n    plugins: [\n      [\n        'component', [\n        {\n          libraryName: 'element-ui',\n          styleLibraryName: 'theme-default',\n        }]]],\n  },\n}\n\n\n\n// WEBPACK FOOTER //\n// ./nuxt.config.js"],"sourceRoot":""}